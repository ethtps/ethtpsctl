# Reserved keywords: [prefix,index,replacement_prefix,value]
prefix=p
replacement_prefix=r
replacement_template=[prefix_index,replacement_value_index]

replace{#OO_LIB_IMPORTS}
with{
import util/variable
import util/type
import util/command
import Array
import util/namedParameters
import util/class
import util/exception
import util/tryCatch
import util/log
}

replace{#pre}
with{#region preprocessed code}

replace{#endpre}
with{#endregion}

regexreplace{(#\s*?\[.*\]){1}(\r?\n(.*)\{){1}}
with{$2 #sudo_request}

replace{#sudo_request}
with{
  if [[ $EUID -ne 0 ]]; then
    Log "This script must be run as root"
    return 1
  fi
}